////
/// Styles.
/// @copyright Simon Finney 2019 - 2020
////

@import '../node_modules/reset-css/sass/reset';

$color--accent: #f6c97c;
$color--background: #0f1219;
$color--text: #a7aeca;

@function units($count) {
  @return 0.5rem * $count;
}

$sizing--border: units(
  $count: 0.125,
);

@mixin breakpoint {
  @media (min-width: units($count: 96)) {
    @content;
  }
}

body {
  max-width: units($count: 128);
  margin-right: auto;
  margin-left: auto;
  padding-right: units($count: 2);
  padding-left: units($count: 2);
  font-family: 'Fira Sans', sans-serif;
  font-size: 14px;
  line-height: 1.5;
  letter-spacing: 0.00625rem;
  color: $color--text;
  background-color: $color--background;
  -moz-osx-font-smoothing: grayscale;
  -webkit-font-smoothing: antialiased;
}

header,
footer {
  display: flex;
  position: sticky;
  padding-top: units($count: 1);
  padding-bottom: units($count: 1);
  background-color: $color--background;
  align-items: center;
}

header {
  top: 0;
  z-index: 9999;
}

h1,
h2,
h3,
h4 {
  font-family: 'Fira Code', monospace;
}

h1,
h4 {
  font-weight: bold;

  @include breakpoint {
    font-size: 16px;
    line-height: 1.375;
  }
}

.role {
  font-weight: normal;
}

nav {
  margin-left: auto;

  li {
    display: inline;

    &:not(:first-of-type) {
      margin-left: units($count: 2);
    }
  }
}

a {
  position: relative;
  text-decoration: none;
  color: inherit;

  &::before {
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    z-index: -1;
    width: 0;
    background-color: darken($color: $color--background, $amount: 5);
    content: '';
    transition: 0.3s width;
  }

  &:focus,
  &:hover {
    &::before {
      width: 100%;
    }
  }

  &:focus {
    outline: $sizing--border solid $color--accent;
    outline-offset: -$sizing--border;
  }
}

.a--active {
  font-weight: bold;
}

.hero {
  $hero__spacing__padding: 20vh;

  padding-top: $hero__spacing__padding;
  padding-bottom: $hero__spacing__padding;
}

h2,
h3,
.description {
  margin-top: units($count: 1);
  margin-bottom: units($count: 1);
  font-size: 20px;
  line-height: 1.3;
}

h2 {
  min-height: 26px;

  @include breakpoint {
    min-height: 64px;
    font-size: 54px;
    line-height: 1.19;
  }
}

.display {
  &--odd {
    color: #bd9be3;
  }

  &--even {
    color: $color--accent;
  }
}

.description {
  max-width: units($count: 96);
}

.features {
  display: grid;
  grid-gap: units($count: 1);

  @include breakpoint {
    grid-template-columns: repeat(3, 1fr);
  }
}

.feature {
  display: flex;
  flex-wrap: wrap;

  &::after {
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    z-index: -2;
    background-color: darken($color: $color--background, $amount: 2.5);
    content: '';
  }

  &__image {
    width: 100%;
    height: units($count: 25);
    object-fit: cover;
  }

  &__content {
    padding: units($count: 4);
  }

  &__icon {
    margin: auto units($count: 2) units($count: 2) auto;
    fill: currentColor;
  }
}

h4 {
  margin-bottom: units($count: 1);
}

footer {
  bottom: 0;
  border-top: $sizing--border solid
    lighten($color: $color--background, $amount: 5);
}
